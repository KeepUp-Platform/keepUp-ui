<div class="card-panel">
  <div class="header-actions">
    <div>
      <h2 class="section-title">Mis VehÃ­culos</h2>
      <p class="text-muted">Gestiona tu flota y mantenimientos</p>
    </div>
    <button class="btn-primary" routerLink="new">
      + Nuevo VehÃ­culo
    </button>
  </div>

  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Cargando flota...</p>
  </div>

  <div *ngIf="!isLoading && vehicles.length === 0" class="empty-state">
    <p>No tienes vehÃ­culos registrados aÃºn.</p>
  </div>

  <div *ngIf="!isLoading && vehicles.length > 0">
    
    <div class="desktop-view">
      <table class="custom-table">
        <thead>
          <tr>
            <th>VehÃ­culo</th>
            <th>Placa</th>
            <th>AÃ±o</th>
            <th>Tipo</th>
            <th class="text-right">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let v of vehicles">
            <td>
              <div class="vehicle-info">
                <div class="icon-circle">
                  <span *ngIf="v.type === 'CAR'">ğŸš—</span>
                  <span *ngIf="v.type === 'MOTORCYCLE'">ğŸï¸</span>
                  <span *ngIf="v.type === 'TRUCK'">ğŸšš</span>
                </div>
                <div>
                  <strong>{{ v.brand }}</strong>
                  <span class="model-text">{{ v.model }}</span>
                </div>
              </div>
            </td>
            <td><span class="badge-plate">{{ v.plate }}</span></td>
            <td>{{ v.year }}</td>
            <td>
              <span class="badge-type" [class]="v.type.toLowerCase()">
                {{ v.type }}
              </span>
            </td>
            <td class="text-right">
              <button class="btn-icon" [routerLink]="['edit', v.id]">âœï¸</button>
              <button class="btn-icon danger" (click)="deleteVehicle(v.id)">ğŸ—‘ï¸</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="mobile-view">
      <div class="vehicle-card-mobile" *ngFor="let v of vehicles">
        <div class="card-header-mobile">
          <div class="vehicle-info">
             <span class="icon-mobile" *ngIf="v.type === 'CAR'">ğŸš—</span>
             <span class="icon-mobile" *ngIf="v.type === 'MOTORCYCLE'">ğŸï¸</span>
             <span class="icon-mobile" *ngIf="v.type === 'TRUCK'">ğŸšš</span>
             <div>
               <strong>{{ v.brand }} {{ v.model }}</strong>
               <div class="subtitle-text">{{ v.year }} â€¢ {{ v.color }}</div>
             </div>
          </div>
          <span class="badge-plate">{{ v.plate }}</span>
        </div>
        
        <div class="card-actions-mobile">
          <button class="btn-outline" [routerLink]="['edit', v.id]">Editar</button>
          <button class="btn-outline danger" (click)="deleteVehicle(v.id)">Eliminar</button>
        </div>
      </div>
    </div>

  </div>
</div>